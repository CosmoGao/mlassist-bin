//打承认之戒（刷神金）脚本，定居艾尔莎岛，支持任意地点启动，脚本制作@小仔子

叠("神之金",20)
#是否循环 = 信息提示("要刷神金吗？只打承认之戒请选【否】","36","脚本制作@小仔子")
#队长队员 = 信息提示("你是否为队长?(队长/单人模式,请选[是]；队员模式,请选择[否])","36","脚本制作@小仔子")
如果(#队长队员 == "5")
	#队伍人数 = 信息输入("请输入队伍人数","买菜的时雨","5")
	如果(#队伍人数 == "1")
		#队伍人数 = "0"
	如果尾()
如果尾()
#队长名字 = ""
#银行格子 = ""

循环("1" == "1")
	如果(人物详细信息("35") == "140" && 人物详细信息("36") == "105" && 人物详细信息("34") == "艾尔莎岛")
		如果(人物详细信息("33") == "20")
			移动到("157","93")
			循环(人物详细信息("34") != "艾夏岛")
				人物转身("2")
				等待("200")
			循环尾()
			自动寻路("114","104")
			循环(人物详细信息("34") != "银行\\z0")
				等待("200")
			循环尾()
			移动到("49","25")
			循环(打开银行("2","") != "1")
				等待("200")
			循环尾()
			存取物品("存物品","神之金","20","",#银行格子)
			等待("2000")
			循环(人物详细信息("33") == "20")
				发送聊天("银行满啦！背包也满啦！是时候倒仓库啦！","5","0")
				等待("60000")
			循环尾()
			循环(人物详细信息("34") != "艾尔莎岛")
				登出回城()
				等待("1000")
			循环尾()
		如果尾()
		循环(人物详细信息("34") != "里谢里雅堡")
			对话NPC("1","7")
			等待("200")
		循环尾()
	如果尾()
	如果(人物详细信息("34") == "里谢里雅堡")
		如果(人物详细信息("2") < 人物详细信息("3") || 人物详细信息("4") < 人物详细信息("5") || 宠物详细信息(当前出战宠物(),"2") < 宠物详细信息(当前出战宠物(),"3") || 宠物详细信息(当前出战宠物(),"4") < 宠物详细信息(当前出战宠物(),"5"))
			自动寻路("34","89")
			护士恢复("1")
		如果尾()
		如果(#队长队员 == "5")
			如果(获取物品数量("承认之戒","") > "0")
				丢弃物品("承认之戒","2")
			如果尾()
			如果(获取物品数量("信笺","") == "0")
				自动寻路("41","50")
				循环(人物详细信息("34") != "里谢里雅堡\S1楼\\z0")
					等待("200")
				循环尾()
				移动到("74","19")
				循环(人物详细信息("34") != "里谢里雅堡\S2楼\\z0")
					等待("200")
				循环尾()
				移动到("49","22")
				循环(人物详细信息("34") != "谒见之间\\z0")
					等待("200")
				循环尾()
				移动到("5","4")
				循环(获取物品数量("信笺","") == "0")
					对话NPC("0","7")
					等待("200")
				循环尾()
				循环(人物详细信息("34") != "艾尔莎岛")
					登出回城()
					等待("1000")
				循环尾()
				循环(人物详细信息("34") != "里谢里雅堡")
					对话NPC("1","7")
					等待("200")
				循环尾()
			如果尾()
			如果(#队伍人数 > "0")
				自动寻路("23","98")
				循环(人物详细信息("37") < #队伍人数)
					等待("1000")
				循环尾()
			如果尾()
			自动寻路("41","98")
			循环(人物详细信息("34") != "法兰城")
				等待("200")
			循环尾()
			自动寻路("153","241")
			循环(人物详细信息("34") != "芙蕾雅")
				等待("200")
			循环尾()
			自动寻路("513","282")
			循环(人物详细信息("34") != "曙光骑士团营地")
				等待("200")
			循环尾()
			如果(获取物品数量("团长的证明","") == "0")
				移动到("42","59")
				移动到("52","68")
				循环(人物详细信息("34") != "曙光营地指挥部\\z0")
					等待("200")
				循环尾()
				移动到("67","70")
				移动到("69","70")
				循环(人物详细信息("34") != "曙光营地指挥部\\z0" || 人物详细信息("35") != "85" || 人物详细信息("36") != "3")
					等待("200")
				循环尾()
				移动到("94","6")
				循环(获取物品数量("团长的证明","") == "0")
					对话NPC("3","7")
					等待("200")
				循环尾()
				移动到("85","3")
				循环(人物详细信息("34") != "曙光营地指挥部\\z0" || 人物详细信息("35") != "69" || 人物详细信息("36") != "70")
					等待("200")
				循环尾()
				移动到("64","78")
				移动到("53","79")
				循环(人物详细信息("34") != "曙光骑士团营地")
					等待("200")
				循环尾()
			如果尾()
			移动到("52","50")
			移动到("55","47")
			循环(人物详细信息("34") != "辛希亚探索指挥部\\z0")
				等待("200")
			循环尾()
			移动到("7","4")
			循环(人物详细信息("34") != "辛希亚探索指挥部\\z0" || 人物详细信息("35") != "91" || 人物详细信息("36") != "6")
				等待("200")
			循环尾()
			移动到("91","9")
			移动到("95","9")
			循环(人物详细信息("34") != "辛希亚探索指挥部\\z0" || 人物详细信息("35") != "19" || 人物详细信息("36") != "28")
				等待("200")
			循环尾()
			移动到("21","30")
			移动到("39","23")
			循环(人物详细信息("34") != "辛希亚探索指挥部\\z0" || 人物详细信息("35") != "42" || 人物详细信息("36") != "22")
				对话NPC("1","1")
				等待("200")
			循环尾()
			移动到("44","22")
			循环(人物详细信息("34") != "废墟地下1层\\z12\\z0")
				等待("200")
			循环尾()
			循环(人物详细信息("34") != "遗迹\\z0")
				自动走迷宫()
				等待("1000")
			循环尾()
			移动到("15","15")
			对话NPC("7","7","","","","1")
			等待("3000")
			等待战斗结束()
			循环(人物详细信息("34") != "研究室\\z0")
				等待("200")
			循环尾()
		否则()
			自动寻路("23","97")
			循环(人物详细信息("37") == "0")
				加入队伍("4",#队长名字)
				等待("200")
			循环尾()
			循环(人物详细信息("34") != "研究室\\z0")
				等待战斗结束()
				等待("2000")
			循环尾()
		如果尾()
	如果尾()
	如果(人物详细信息("34") == "研究室\\z0")
		如果(#是否循环 != "5")
			如果(#队长队员 == "5")
				移动到("15","15")
				如果(人物详细信息("37") > "0")
					切图("6")
					切图("2")
					切图("6")
					切图("2")
					等待("1000")
				如果尾()
				循环(人物详细信息("34") != "法兰城")
					对话NPC("7","7")
					等待("200")
				循环尾()
			否则()
				循环(人物详细信息("34") != "法兰城")
					如果(人物详细信息("35") == "15" && 人物详细信息("36") == "15")
						等待("1000")
						如果(人物详细信息("35") == "15" && 人物详细信息("36") == "15")
							对话NPC("7","7")
						如果尾()
					如果尾()
					如果(人物详细信息("35") == "14" && 人物详细信息("36") == "15")
						等待("1000")
						如果(人物详细信息("35") == "14" && 人物详细信息("36") == "15")
							对话NPC("0","7")
						如果尾()
					如果尾()
					如果(人物详细信息("37") == "0" && 人物详细信息("34") == "研究室\\z0")
						移动到("15","15")
					如果尾()
				循环尾()
			如果尾()
			如果(人物详细信息("34") == "法兰城")
				自动寻路("153","241")
				循环(人物详细信息("34") != "芙蕾雅")
					等待("200")
				循环尾()
				自动寻路("513","282")
				循环(人物详细信息("34") != "曙光骑士团营地")
					等待("200")
				循环尾()
				移动到("42","59")
				移动到("52","68")
				循环(人物详细信息("34") != "曙光营地指挥部\\z0")
					等待("200")
				循环尾()
				移动到("67","70")
				移动到("69","70")
				循环(人物详细信息("34") != "曙光营地指挥部\\z0" || 人物详细信息("35") != "85" || 人物详细信息("36") != "3")
					等待("200")
				循环尾()
				移动到("94","6")
				循环(获取物品数量("信","") == "0")
					对话NPC("3","7")
					等待("200")
				循环尾()
				循环(人物详细信息("34") != "艾尔莎岛")
					登出回城()
					等待("1000")
				循环尾()
				循环(人物详细信息("34") != "里谢里雅堡")
					对话NPC("1","7")
					等待("200")
				循环尾()
				移动到("41","50")
				循环(人物详细信息("34") != "里谢里雅堡\S1楼\\z0")
					等待("200")
				循环尾()
				移动到("74","19")
				循环(人物详细信息("34") != "里谢里雅堡\S2楼\\z0")
					等待("200")
				循环尾()
				移动到("49","22")
				循环(人物详细信息("34") != "谒见之间\\z0")
					等待("200")
				循环尾()
				移动到("5","4")
				循环(获取物品数量("承认之戒","") == "0")
					对话NPC("0","7","","","","1")
					等待("200")
				循环尾()
				发送聊天("恭喜你！承认戒指已拿到！脚本结束","5","0")
				结束脚本()
			如果尾()
		如果尾()
	如果尾()
	登出回城()
	等待("1000")
循环尾()